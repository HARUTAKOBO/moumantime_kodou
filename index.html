<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ライチ争奪戦｜完成確認版</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>

<body>
<div class="wrap">

<!-- ===== 左パネル ===== -->
<div class="panel">

<div class="grid3">
  <button onclick="setType('start')">スタート</button>
  <button onclick="setType('goal')">ゴール</button>
  <button onclick="runSim()">▶ シミュレーション</button>
</div>

<button style="width:100%;margin-top:6px" onclick="resetSim()">リセット</button>

<h2>都市</h2>
<div class="grid6">
  <button onclick="setCity('涪州')">涪州</button>
  <button onclick="setCity('桂州')">桂州</button>
  <button onclick="setCity('永州')">永州</button>
  <button onclick="setCity('江州')">江州</button>
  <button onclick="setCity('光州')">光州</button>
  <button onclick="setCity('寿州')">寿州</button>
</div>

<button style="width:100%;margin-top:6px" onclick="deleteSelected()">選択ノード削除</button>

<h2>ノード種別</h2>
<div class="grid3">
  <button onclick="setType('inn_small')">小宿</button>
  <button onclick="setType('inn_big')">大宿</button>
  <button onclick="setType('fork')">分岐</button>
  <button onclick="setType('merge')">合流</button>
</div>

<h2>基本設定</h2>
<div class="gridFields">
  <div class="field"><label>総距離</label><input id="totalDist" value="50000000"></div>
  <div class="field"><label>基本速度/秒</label><input id="baseSpeed" value="1389"></div>
  <div class="field"><label>宿駅通過加速バフ</label><input id="innBoost" value="6945"></div>
</div>
<div class="gridFields" style="margin-top:6px">
  <div class="field"><label>初期ライチ数</label><input id="initLychee" value="10600000"></div>
  <div class="field"><label>ライチ減少数/秒</label><input id="loss" value="100"></div>
  <div class="field"><label>宿駅バフ持続時間</label><input id="innTime" value="900"></div>
</div>

<h2>都市別ルートバフ</h2>
<div class="table">
  <div class="cell">都市</div><div class="cell">ルートバフ</div>
  <div class="cell">距離</div><div class="cell">速度</div><div class="cell">ライチ</div><div class="cell">宿駅</div>

  <div class="cell">涪州</div><div class="cell">損失-20%</div><div class="cell">1</div><div class="cell">1</div><div class="cell">0.8</div><div class="cell">5</div>
  <div class="cell">桂州</div><div class="cell">距離-5%</div><div class="cell">0.95</div><div class="cell">1</div><div class="cell">1</div><div class="cell">5</div>
  <div class="cell">永州</div><div class="cell">防御+20%</div><div class="cell">1</div><div class="cell">1</div><div class="cell">1</div><div class="cell">5</div>
  <div class="cell">江州</div><div class="cell">速度+8%</div><div class="cell">1</div><div class="cell">1.08</div><div class="cell">1</div><div class="cell">5</div>
  <div class="cell">光州</div><div class="cell">強奪損失-20%</div><div class="cell">1</div><div class="cell">1</div><div class="cell">1</div><div class="cell">5</div>
  <div class="cell">寿州</div><div class="cell">宿駅+1</div><div class="cell">1</div><div class="cell">1</div><div class="cell">1</div><div class="cell">6</div>
</div>

<h2>結果（進行中）</h2>
<div class="result">
  <div class="cell">位</div><div class="cell">都市</div><div class="cell">ライチ</div>
  <div class="cell">速度</div><div class="cell">残距離</div><div class="cell">時間</div>
</div>
<div id="result" class="result"></div>

</div>

<!-- ===== マップ ===== -->
<canvas id="field" width="900" height="1200"></canvas>

</div>
</body>
</html>

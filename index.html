<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>ãƒ©ã‚¤ãƒäº‰å¥ªæˆ¦ ãƒ«ãƒ¼ãƒˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆå¼·åˆ¶è¡¨ç¤ºç‰ˆï¼‰</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
body{margin:0;font-family:system-ui;background:#111;color:#fff}
h1{font-size:16px;margin:8px}
.wrap{display:grid;grid-template-columns:260px 1fr;height:100vh}
.panel{background:#222;padding:12px}
label{font-size:12px;color:#ccc}
input,button{width:100%;margin:6px 0;padding:6px}
canvas{background:#000}
</style>
</head>
<body>
<h1>ğŸ ãƒ©ã‚¤ãƒäº‰å¥ªæˆ¦ãƒ»å¿…ãšè¦‹ãˆã‚‹ãƒ‡ãƒãƒƒã‚°ç‰ˆ</h1>
<div class="wrap">
<div class="panel">
<label>æ™‚é–“åœ§ç¸®</label>
<input id="scale" type="number" value="5">
<button id="reset">ãƒªã‚»ãƒƒãƒˆ</button>
</div>
<canvas id="field" width="900" height="1200"></canvas>
</div>
<script>
// ====== çµ¶å¯¾ã«å‹•ãæœ€å°æ§‹æˆ ======
const canvas = document.getElementById('field');
const ctx = canvas.getContext('2d');
const scaleEl = document.getElementById('scale');

let t = 0;

function draw(){
  // èƒŒæ™¯ï¼ˆæ¯ãƒ•ãƒ¬ãƒ¼ãƒ å¿…ãšæç”»ï¼‰
  ctx.fillStyle = '#203040';
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // ã‚°ãƒªãƒƒãƒ‰
  ctx.strokeStyle = '#405870';
  for(let x=0;x<canvas.width;x+=100){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,canvas.height);ctx.stroke();}
  for(let y=0;y<canvas.height;y+=100){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(canvas.width,y);ctx.stroke();}

  // ãƒ‡ãƒãƒƒã‚°æ–‡å­—
  ctx.fillStyle = '#fff';
  ctx.font = '20px sans-serif';
  ctx.fillText('Canvas æç”»ãƒ†ã‚¹ãƒˆ OK',20,40);
  ctx.fillText('ã‚‚ã—ã“ã‚ŒãŒè¦‹ãˆãªã‘ã‚Œã°ç’°å¢ƒå•é¡Œã§ã™',20,70);

  // ç¢ºå®Ÿã«å‹•ãå††
  const speed = Number(scaleEl.value);
  const x = 100 + (t % 600);
  const y = 200 + (t % 400);

  ctx.fillStyle = 'red';
  ctx.beginPath();
  ctx.arc(x,y,15,0,Math.PI*2);
  ctx.fill();

  t += speed;
  requestAnimationFrame(draw);
}

// èµ·å‹•
requestAnimationFrame(draw);

document.getElementById('reset').onclick = ()=>{t=0;};
</script>
</body>
</html>
